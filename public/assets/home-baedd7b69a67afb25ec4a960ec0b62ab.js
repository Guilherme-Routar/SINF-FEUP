botao_loadTopArtigos='<button class="btn btn-lg btn-warning"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> A carregar...</button>',botao_loadCategorias='<button class="btn btn-lg btn-warning"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> A carregar...</button>',botao_loadTopAutores='<button class="btn btn-lg btn-warning"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> A carregar...</button>';var base_url_primavera="http://localhost:49822/api",url_produto="http://localhost:3000/product/";$(document).ready(function(){var o=base_url_primavera+"/TopLivros";$("#artigos-container").html(botao_loadTopArtigos),$.ajax({url:o,error:function(o){console.log("error fetching top."),console.log("ARTIGOS CONTAINER ERROR"),console.log(o)},dataType:"json",success:function(o){$("#artigos-container").html("");for(var a in o){top[a]=$.parseJSON(JSON.stringify(o[a]));var s=top[a].CodArtigo,i=top[a].DescArtigo,t=parseInt(top[a].PVP),r=parseInt(top[a].IVA),n=top[a].Moeda,l=t*(1-r/100),e='<div class="item  col-xs-12 col-sm-4 col-lg-4"> <div class="thumbnail"> <img id="img-artigo-" class="group list-group-image" src="" alt="" /> <div class="caption"> <a href="/product/'+s+'"><h4 class="group inner list-group-item-heading one-line-elipsis">'+i+'</h4></a> <div class="container-fluid"> <div class="row"> <div class="col-xs-12 col-md-6"> <p class="lead">'+l+"  "+n+' </p> </div> <div class="col-xs-12 col-md-6"> <a class="add-to-cart-btn btn btn-success" data-id-artigo=""><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> Add</a> </div> </div> </div> </div> </div> </div>';$("#artigos-container").append(e)}},type:"GET"});var a=base_url_primavera+"/categorias";console.log(a),$("#categorias-container").html(botao_loadCategorias),$.ajax({url:a,error:function(o){console.log("error fetching top."),console.log("ola"),console.log(o)},dataType:"json",success:function(o){$("#categorias-container").html("");for(var a in o){top[a]=$.parseJSON(JSON.stringify(o[a])),cod=top[a].CodCategoria,console.log("COD"+top[a].CodCategoria),desc=top[a].DescCategoria,numExemplares="Numero de Exemplares"+top[a].numExemplaresCategoria;var s='<div class="item  col-xs-12 col-sm-4 col-lg-4"> <div class="thumbnail"> <img id="img-artigo-" class="group list-group-image" src="" alt="" /> <div class="caption"> <a href="/categoria/'+cod+'"><h4 class="group inner list-group-item-heading one-line-elipsis">'+desc+'</h4></a> <div class="container-fluid"> <div class="row">  </div> </div> </div> </div> </div>';$("#categorias-container").append(s)}},type:"GET"});var s=base_url_primavera+"/TopAutores";$("#topautores-container").html(botao_loadTopAutores),$.ajax({url2:s,error:function(o){console.log("error fetching top."),console.log(o)},dataType:"json",success:function(o){$("#topautores-container").html("");for(var a in o){top[a]=$.parseJSON(JSON.stringify(o[a])),console.log("DESC : "+top[a].DescArtigo);var s='<div class="item  col-xs-12 col-sm-4 col-lg-4"> <div class="thumbnail"> <img id="img-artigo-" class="group list-group-image" src="" alt="" /> <div class="caption"> <a href="/product/">           <h4 class="group inner list-group-item-heading one-line-elipsis">'+top[a].DescArtigo+'</h4>               </a> <div class="container-fluid"> <div class="row"> <div class="col-xs-12 col-md-6"> <p class="lead">'+(top[a].PVP*(top[a].IVA/100+1)).toFixed(2)+'\u20ac</p> </div> <div class="col-xs-12 col-md-6"> <a class="add-to-cart-btn btn btn-success" data-id-artigo=""><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> Add</a> </div> </div> </div> </div> </div> </div>';$("#topautores-container").append(s)}},type:"GET"})});